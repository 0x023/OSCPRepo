<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Basics / References</title>
</head><body><br/>
<br/>
There are hundreds of instructions. You can’t learn them all at once. Just start with these: <br/>
<br/>
mov x, y &nbsp; &nbsp; &nbsp;&#09;x ← y<br/>
and x, y&#09;&#09;x ← x and y<br/>
or x, y&#09;&#09;x ← x or y<br/>
xor x, y&#09;&#09;x ← x xor y<br/>
add x, y&#09;&#09;x ← x + y<br/>
sub x, y&#09;&#09;x ← x – y<br/>
inc x&#09;&#09;x ← x + 1<br/>
dec x&#09;&#09;x ← x – 1<br/>
syscall&#09;&#09;Invoke an operating system routine<br/>
db&#09;&#09;&#09;A pseudo-instruction that declares bytes that will be in memory when the program runs <br/>
<br/>
<b>Register Operands</b><br/>
<br/>
In this tutorial we only care about the integer registers and the xmm registers. You should already know what the registers are, but here is a quick review. The 16 integer registers are 64 bits wide and are called:<br/>
<br/>
R0 &nbsp; R1 &nbsp; R2 &nbsp; &nbsp;R3 &nbsp; &nbsp;R4 &nbsp;R5 &nbsp; &nbsp;R6 &nbsp;R7 &nbsp; R8 &nbsp; R9 &nbsp; R10 &nbsp; R11 &nbsp; R12 &nbsp; R13 &nbsp; R14 &nbsp; R15<br/>
RAX RCX RDX RBX RSP RBP RSI RDI<br/>
<br/>
(Note that 8 of the registers have alternate names.) You can treat the lowest 32-bits of each register as a register itself but using these names:<br/>
<br/>
R0D R1D R2D R3D R4D R5D R6D R7D R8D R9D R10D R11D R12D R13D R14D R15D<br/>
EAX ECX EDX EBX &nbsp;ESP &nbsp;EBP ESI &nbsp; EDI<br/>
<br/>
You can treat the lowest 16-bits of each register as a register itself but using these names:<br/>
<br/>
R0W R1W R2W R3W R4W R5W R6W R7W R8W R9W R10W R11W R12W R13W R14W R15W<br/>
AX &nbsp; &nbsp;CX &nbsp; &nbsp;DX &nbsp; &nbsp;BX &nbsp; &nbsp;SP &nbsp; &nbsp; BP &nbsp; &nbsp;SI &nbsp; &nbsp; DI<br/>
<br/>
You can treat the lowest 8-bits of each register as a register itself but using these names:<br/>
<br/>
R0B R1B R2B R3B R4B R5B R6B R7B R8B R9B R10B R11B R12B R13B R14B R15B<br/>
AL &nbsp; &nbsp;CL &nbsp; &nbsp;DL &nbsp; BL &nbsp; SPL &nbsp;BPL &nbsp;SIL &nbsp;DIL<br/>
<br/>
For historical reasons, bits 15 through 8 of R0..R3 are named:<br/>
AH &nbsp;CH &nbsp;DH &nbsp;BH<br/>
<br/>
And finally, there are 16 XMM registers, each 128 bits wide, named:<br/>
XMM0 ... XMM15<br/>
<br/>
Study this picture; hopefully it helps: <br/>
<img src="image.png" /><br/>
<br/>
<br/>
<b>Memory Operands </b><br/>
<br/>
These are the basic forms of addressing:<br/>
<br/>
&nbsp; &nbsp; [ number ]<br/>
&nbsp; &nbsp; [ reg ]<br/>
&nbsp; &nbsp; [ reg + reg*scale ] &nbsp; &nbsp; &nbsp;scale is 1, 2, 4, or 8 only<br/>
&nbsp; &nbsp; [ reg + number ]<br/>
&nbsp; &nbsp; [ reg + reg*scale + number ] <br/>
<br/>
The number is called the displacement; the plain register is called the base; the register with the scale is called the index. <br/>
<br/>
Examples:<br/>
<br/>
[750] &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#09;; displacement only<br/>
[rbp] &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#09;; base register only<br/>
[rcx + rsi*4] &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#09;; base + index * scale<br/>
[rbp + rdx] &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#09;; scale is 1<br/>
[rbx - 8] &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#09;; displacement is -8<br/>
[rax + rdi*8 + 500] &nbsp; &nbsp;; all four components<br/>
[rbx + counter] &nbsp; &nbsp; &nbsp; &nbsp;; uses the address of the variable 'counter' as the displacement<br/>
<br/>
<br/>
<b>Immediate Operands</b><br/>
<br/>
These can be written in many ways. Here are some examples from the official docs.<br/>
<br/>
200 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#09;; decimal<br/>
0200 &nbsp; &nbsp; &nbsp; &nbsp; &#09;; still decimal - the leading 0 does not make it octal<br/>
0200d &nbsp; &nbsp; &nbsp; &nbsp;&#09;; explicitly decimal - d suffix<br/>
0d200 &nbsp; &nbsp; &nbsp; &nbsp;&#09;; also decimal - 0d prefex<br/>
0c8h &nbsp; &nbsp; &nbsp; &nbsp; &#09;; hex - h suffix, but leading 0 is required because c8h looks like a var<br/>
0xc8 &nbsp; &nbsp; &nbsp; &nbsp; &#09;; hex - the classic 0x prefix<br/>
0hc8 &nbsp; &nbsp; &nbsp; &nbsp; &#09;; hex - for some reason NASM likes 0h<br/>
310q &nbsp; &nbsp; &nbsp; &nbsp; &#09;; octal - q suffix<br/>
0q310 &nbsp; &nbsp; &nbsp; &nbsp;&#09;; octal - 0q prefix<br/>
11001000b &nbsp; &nbsp;&#09;; binary - b suffix<br/>
0b1100_1000 &nbsp;; binary - 0b prefix, and by the way, underscores are allowed<br/>
<br/>
</body></html>